<!--
  ~ Copyright 2018, TeamDev Ltd. All rights reserved.
  ~
  ~ Redistribution and use in source and/or binary forms, with or without
  ~ modification, must retain the above copyright notice and the following
  ~ disclaimer.
  ~
  ~ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  ~ "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  ~ LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  ~ A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
  ~ OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  ~ SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  ~ LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  ~ DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
  ~ THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  ~ (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  ~ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  -->
<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<dom-module id="meal-order">
    <template>
        <style>
        </style>
        <app-location route="{{route}}"
                      use-hash-as-path></app-location>

        <app-route
                route="{{route}}"
                pattern="/:page"
                data="{{routeData}}"></app-route>

        <app-drawer-layout fullbleed>

            <app-drawer slot="drawer" align="right" class$="[[_getClassForDrawer(routeData.page)]]">
                <app-toolbar style="background-color: white">
                </app-toolbar>
            </app-drawer>

            <app-header-layout>
                <app-header slot="header" reveals effects="waterfall">
                    <app-toolbar>
                    </app-toolbar>
                </app-header>
            </app-header-layout>

        </app-drawer-layout>
    </template>

    <script>
        class MealOrder extends ReduxMixin(Polymer.Element) {
            static get is() {
                return 'meal-order';
            }

            static get properties() {
                return {}
            }

            _changehistoryUrl() {
                if (this.routeData.page.startsWith('history')) {
                    const newRouteData = {};
                    newRouteData.page = 'history/' + '#/' + this.currentDate;
                    this.set('routeData', newRouteData);
                }
            }
        }
        window.customElements.define(MealOrder.is, MealOrder);
    </script>
</dom-module>
